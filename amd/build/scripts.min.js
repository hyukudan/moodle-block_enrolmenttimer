/**
 * @package    block_enrolmenttimer
 * @copyright  2014 onwards LearningWorks Ltd {@link https://learningworks.co.nz/}
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 * @author     Aaron Leggett
 */
define("block_enrolmenttimer/scripts",["jquery"],(function($){return{initialise:function(){$(document).ready((function(){var options=[],arrayKeys=[],timestamp=0,forceTwoDigits=!1;function updateMainCounter(counter,time){var html="";if(!0===forceTwoDigits&&1==time.toString().length)html+='<span class="timerNumChar" data-id="0">0</span>',html+='<span class="timerNumChar" data-id="1">'+time.toString()+"</span>";else for(var i=0;i<time.toString().length;i++)html+='<span class="timerNumChar" data-id="'+i+'">'+time.toString().charAt(i)+"</span>";$('.block_enrolmenttimer .active .timer-wrapper .timerNum[data-id="'+counter+'"]').html(html),$(".block_enrolmenttimer .active .text-desc ."+counter).html(time)}$(".block_enrolmenttimer .active").length>0&&(!function(){for(var children=$(".block_enrolmenttimer .active .timer-wrapper").find(".timerNum"),i=children.length-1;i>=0;i--){var arrayKey=$(children[i]).attr("data-id");arrayKeys.push(arrayKey)}}(),function(){for(var i=arrayKeys.length-1;i>=0;i--){var option=$(".block_enrolmenttimer .active .text-desc ."+arrayKeys[i]).text();options[arrayKeys[i]]=option}}(),function(){for(var i=arrayKeys.length-1;i>=0;i--)switch(arrayKeys[i]){case"seconds":timestamp+=parseInt(options[arrayKeys[i]],10);break;case"minutes":timestamp+=60*parseInt(options[arrayKeys[i]],10);break;case"hours":timestamp+=3600*parseInt(options[arrayKeys[i]],10);break;case"days":timestamp+=86400*parseInt(options[arrayKeys[i]],10);break;case"weeks":timestamp+=604800*parseInt(options[arrayKeys[i]],10);break;case"months":timestamp+=2592e3*parseInt(options[arrayKeys[i]],10);break;case"years":timestamp+=31536e3*parseInt(options[arrayKeys[i]],10)}}(),window.setInterval((function(){!function(){for(var time=--timestamp,tokens=["years","months","weeks","days","hours","minutes","seconds"],units=["31536000","2592000","604800","86400","3600","60","1"],i=0;i<tokens.length;i++)if(-1!=arrayKeys.indexOf(tokens[i]))if(time>=units[i]){var count=Math.floor(time/units[i]);updateMainCounter(tokens[i],count),time-=count*units[i]}else updateMainCounter(tokens[i],0)}()}),1e3)),$(".block_enrolmenttimer .timer-wrapper[data-id=force2]").length>0&&(forceTwoDigits=!0)}))}}}));

//# sourceMappingURL=scripts.min.js.map